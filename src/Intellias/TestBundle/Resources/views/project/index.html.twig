{% extends "IntelliasTestBundle::layout.html.twig" %}
{% block header %}
    <h1>Projects</h1>
    <a href="{{ path('project_new') }}" class="ui-btn ui-btn-icon-right ui-icon-plus">Add</a>
{% endblock %}
{% block content %}
    <ul data-role="listview" data-filter="true" data-filter-placeholder="Search project..." data-split-icon="gear"
        data-split-theme="d" data-inset="true">
        {% for project in projects %}
            <li><a href="{{ path('project_show', { 'id': project.id }) }}">
                    <h2>{{ project.name }}</h2>
                    <p>{{ project.description }}</p></a>
                <a href="#act_{{ project.id }}" data-rel="popup" data-position-to="window" data-inline="true"
                   data-transition="pop" data-theme="e">Actions</a>
                <div data-role="popup" id="act_{{ project.id }}" data-theme="d">
                    <ul data-role="listview" data-inset="true" style="min-width:210px;" data-theme="d">
                        <li><a href="{{ path('project_show', { 'id': project.id }) }}">View details</a></li>
                        <li><a href="{{ path('project_edit', { 'id': project.id }) }}">Edit</a></li>
                        <li><a onclick="return confirm('Are you sure you want to delete this item?');"
                               href="{{ path('project_delete', { 'id': project.id }) }}">Delete</a></li>
                    </ul>
                </div>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
