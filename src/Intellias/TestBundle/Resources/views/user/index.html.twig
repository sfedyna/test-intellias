{% extends "IntelliasTestBundle::layout.html.twig" %}
{% block header %}
    <h1>Users</h1>
    <a href="{{ path('user_new') }}" class="ui-btn ui-btn-icon-right ui-icon-plus">Add</a>
{% endblock %}
{% block content %}
    <ul data-role="listview" data-filter="true" data-filter-placeholder="Search user..." data-split-icon="gear"
        data-split-theme="d" data-inset="true">
        {% for user in users %}
            <li>
                <a href="{{ path('user_show', { 'id': user.id }) }}">
                    <h2>{{ user.firstName }} {{ user.lastName }}</h2>
                </a>
                <a href="#act_{{ user.id }}" data-rel="popup" data-position-to="window" data-inline="true"
                   data-transition="pop" data-theme="e">Actions</a>
                <div data-role="popup" id="act_{{ user.id }}" data-theme="d">
                    <ul data-role="listview" data-inset="true" style="min-width:210px;" data-theme="d">
                        <li><a href="{{ path('user_show', { 'id': user.id }) }}">View details</a></li>
                        <li><a href="{{ path('user_edit', { 'id': user.id }) }}">Edit</a></li>
                        <li><a onclick="return confirm('Are you sure you want to delete this item?');"
                               href="{{ path('user_delete', { 'id': user.id }) }}">Delete</a></li>
                    </ul>
                </div>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
